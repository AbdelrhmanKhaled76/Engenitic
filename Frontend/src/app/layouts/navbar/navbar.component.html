<nav class="w-full flex justify-center items-center shadow-md z-50">
  <div class="container flex justify-between items-center p-5">
    <!-- Logo -->
    <div>
      <ng-container *ngIf="!registered; else reg_logo">
        <a routerLink="/">
          <img
            src="assets/icons/logo-black.svg"
            alt="engenitics black logo"
            class="h-10"
          />
        </a>
      </ng-container>
      <ng-template #reg_logo>
        <a routerLink="/">
          <img
            src="assets/icons/logo-gradient 1.svg"
            alt="engenitics gradient logo"
            class="h-10"
          />
        </a>
      </ng-template>
    </div>

    <!-- Desktop Menu (hidden on mobile) -->
    <div class="hidden md:flex md:items-center md:space-x-8">
      <a
        routerLink="/home"
        class="duration-500 transition-all font-display capitalize hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        >home</a
      >
      <a
        routerLink="/offered-courses"
        class="duration-500 transition-all font-display hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        >courses offered</a
      >
      <a
        routerLink="/grammar"
        class="duration-500 transition-all font-display hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        >grammar help</a
      >
      <a
        routerLink="/Q&A"
        class="duration-500 transition-all font-display hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        >Q & A</a
      >
      <a
        routerLink="/listening"
        class="duration-500 transition-all font-display hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        >listening</a
      >
    </div>

    <!-- User Actions (Desktop) -->
    <div class="hidden md:block">
      <ng-container *ngIf="!registered; else user_info">
        <span class="flex space-x-6">
          <a routerLink="login" class="engenitic-button hover:engenitic-success"
            >log in</a
          >
          <a routerLink="register" class="engenitic-button hover:bg-yellow-400"
            >register</a
          >
        </span>
      </ng-container>
      <ng-template #user_info>
        <span class="flex items-center space-x-6">
          <a
            [routerLink]="['/profile', userRole, userId, '1']"
            class="duration-500 transition-all flex items-center hover:text-[#58B6B8]"
            routerLinkActive="text-[#58B6B8]"
          >
            <img
              [src]="userPicture"
              alt="user profile picture"
              class="w-[43px] h-[40px] object-cover rounded-full"
            />
            <p class="ms-4 font-display">{{ userName }}</p>
          </a>
          <a
            (click)="handleLogout()"
            class="engenitic-button hover:engenitic-danger cursor-pointer"
            >log out</a
          >
        </span>
      </ng-template>
    </div>

    <!-- Mobile Menu Button (visible on mobile) -->
    <div class="md:hidden">
      <button
        title="menu-button"
        type="button"
        (click)="toggleMenu()"
        class="text-xl focus:outline-none"
      >
        <i
          class="fa-solid"
          [class.fa-bars]="!isMenuOpen"
          [class.fa-xmark]="isMenuOpen"
        ></i>
      </button>
    </div>
  </div>

  <!-- Mobile Menu Dropdown (visible on mobile when toggled) -->
  <div
    class="fixed top-0 left-0 w-[200px] h-screen bg-white shadow-lg z-50 transition-all duration-500 ease-in-out"
    #responsiveDesign
    style="transform: translateX(-100%); opacity: 0"
  >
    <div class="container px-5 py-3 flex flex-col space-y-4">
      <a
        routerLink="/home"
        class="duration-500 transition-colors font-display capitalize hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        (click)="closeMenu()"
        >home</a
      >
      <a
        routerLink="/offered-courses"
        class="duration-500 transition-colors font-display hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        (click)="closeMenu()"
        >courses offered</a
      >
      <a
        routerLink="/grammar"
        class="duration-500 transition-colors font-display hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        (click)="closeMenu()"
        >grammar help</a
      >
      <a
        routerLink="/Q&A"
        class="duration-500 transition-colors font-display hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        (click)="closeMenu()"
        >Q & A</a
      >
      <a
        routerLink="/listening"
        class="duration-300 transition-colors font-display hover:text-[#58B6B8]"
        routerLinkActive="text-[#58B6B8]"
        (click)="closeMenu()"
        >listening</a
      >

      <div class="pt-4 border-t mt-2">
        <ng-container *ngIf="!registered; else mobile_user_info">
          <div class="flex flex-col space-y-3">
            <a
              routerLink="login"
              class="engenitic-button hover:engenitic-success text-center"
              (click)="closeMenu()"
              >log in</a
            >
            <a
              routerLink="register"
              class="engenitic-button hover:bg-yellow-400 text-center"
              (click)="closeMenu()"
              >register</a
            >
          </div>
        </ng-container>
        <ng-template #mobile_user_info>
          <div class="flex flex-col space-y-4">
            <a
              [routerLink]="['/profile', userRole, userId, '1']"
              class="duration-500 transition-colors flex items-center hover:text-[#58B6B8]"
              routerLinkActive="text-[#58B6B8]"
              (click)="closeMenu()"
            >
              <img
                [src]="userPicture"
                alt="user profile picture"
                class="w-[43px] h-[40px] object-cover rounded-full"
              />
              <p class="ms-4 font-display">{{ userName }}</p>
            </a>
            <a
              (click)="[handleLogout(), closeMenu()]"
              class="engenitic-button hover:engenitic-danger cursor-pointer text-center"
              >log out</a
            >
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</nav>
